#!/usr/bin/env sh

# Check if lockfile is in sync with package.json files
echo "ğŸ” Checking lockfile consistency..."
if ! pnpm install --frozen-lockfile --silent; then
  echo "âŒ Lockfile is out of sync with package.json files"
  echo "ğŸ”„ Updating lockfile..."
  pnpm install
  echo "âœ… Lockfile updated"
  echo "âš ï¸  Please commit the updated pnpm-lock.yaml file"
  exit 1
fi

echo "âœ… Lockfile is in sync"
